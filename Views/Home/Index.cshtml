@model MonitoringConfigurator.Models.HomeViewModel

@{
    ViewData["Title"] = "Strona Główna";
}

<div class="hero mb-5" style="background-image: url('https://gratka.pl/blog/wp-content/uploads/2022/05/img_9970-1024x683.jpg);">
    <div class="content">
        <div class="row">
            <div class="col-lg-7">
                <h1 class="display-4 fw-bold mb-3">
                    Profesjonalny <span class="text-danger">Monitoring</span> <br /> Twojego Obiektu
                </h1>
                <p class="lead mb-4 text-light opacity-75">
                    Zabezpiecz to, co najważniejsze. Skorzystaj z naszego inteligentnego konfiguratora
                    i stwórz system idealnie dopasowany do Twoich potrzeb w mniej niż 3 minuty.
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    <a asp-controller="Configurator" asp-action="Index" class="btn btn-primary btn-lg px-4 rounded-pill fw-bold shadow-sm">
                        <i class="bi bi-gear-wide-connected me-2"></i> Konfiguruj System
                    </a>
                    <a asp-controller="Products" asp-action="Index" class="btn btn-outline-secondary btn-lg px-4 rounded-pill">
                        <i class="bi bi-collection me-2"></i> Przeglądaj Katalog
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container pb-5">

    <div class="row g-4 mb-5">
        <div class="col-md-4">
            <a asp-controller="Configurator" asp-action="Index" class="text-decoration-none">
                <div class="feature-card p-4 h-100 d-flex align-items-center transition-card">
                    <div class="bg-danger bg-opacity-10 text-danger p-3 rounded-circle me-3">
                        <i class="bi bi-cpu-fill fs-3"></i>
                    </div>
                    <div>
                        <h5 class="text-white mb-1">Konfigurator AI</h5>
                        <small class="text-muted">Dobierz sprzęt automatycznie</small>
                    </div>
                    <i class="bi bi-chevron-right ms-auto text-muted"></i>
                </div>
            </a>
        </div>
        <div class="col-md-4">
            <a asp-controller="Info" asp-action="Guides" class="text-decoration-none">
                <div class="feature-card p-4 h-100 d-flex align-items-center transition-card">
                    <div class="bg-primary bg-opacity-10 text-primary p-3 rounded-circle me-3">
                        <i class="bi bi-journal-bookmark-fill fs-3"></i>
                    </div>
                    <div>
                        <h5 class="text-white mb-1">Baza Wiedzy</h5>
                        <small class="text-muted">Poradniki i instrukcje</small>
                    </div>
                    <i class="bi bi-chevron-right ms-auto text-muted"></i>
                </div>
            </a>
        </div>
        <div class="col-md-4">
            <a asp-controller="Info" asp-action="Support" class="text-decoration-none">
                <div class="feature-card p-4 h-100 d-flex align-items-center transition-card">
                    <div class="bg-success bg-opacity-10 text-success p-3 rounded-circle me-3">
                        <i class="bi bi-headset fs-3"></i>
                    </div>
                    <div>
                        <h5 class="text-white mb-1">Wsparcie Techniczne</h5>
                        <small class="text-muted">Pomoc inżynierów 24/7</small>
                    </div>
                    <i class="bi bi-chevron-right ms-auto text-muted"></i>
                </div>
            </a>
        </div>
    </div>

    <div class="mb-5">
        <div class="d-flex justify-content-between align-items-end mb-4">
            <h3 class="section-title text-white mb-0">Najnowsze Produkty</h3>
            <a asp-controller="Products" asp-action="Index" class="text-danger text-decoration-none small fw-bold">
                Zobacz wszystkie <i class="bi bi-arrow-right"></i>
            </a>
        </div>

        <div class="row g-4">
            @if (Model.FeaturedProducts != null && Model.FeaturedProducts.Any())
            {
                @foreach (var product in Model.FeaturedProducts)
                {
                    <div class="col-md-6 col-lg-3">
                        <div class="product-card h-100">
                            <div class="thumb p-0 position-relative" style="background: #0f0f0f;">
                                @if (!string.IsNullOrEmpty(product.ImageUrl))
                                {
                                    <img src="@product.ImageUrl" alt="@product.Name" style="width:100%; height:100%; object-fit:contain; padding: 1rem;">
                                }
                                else
                                {
                                    <div class="d-flex align-items-center justify-content-center h-100 w-100 text-muted">
                                        <i class="bi bi-camera-video display-4 opacity-50"></i>
                                    </div>
                                }
                            </div>
                            <div class="body d-flex flex-column">
                                <div class="mb-2">
                                    <span class="badge-cat border-secondary text-secondary">@product.Category</span>
                                </div>
                                <h5 class="text-white mb-1 text-truncate" title="@product.Name">@product.Name</h5>
                                <div class="meta mb-3 small text-truncate">@(product.Description ?? "Wysoka jakość wykonania")</div>
                                <div class="mt-auto d-flex align-items-center justify-content-between">
                                    <div class="price">@product.Price.ToString("C")</div>
                                    <a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id" class="btn btn-sm btn-outline-secondary rounded-pill">
                                        Szczegóły
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center py-5">
                    <p class="text-muted">Brak wyróżnionych produktów w tej chwili.</p>
                </div>
            }
        </div>
    </div>

    <div class="row g-4 mb-5">
        <div class="col-12">
            <h3 class="section-title text-white">Dlaczego my?</h3>
        </div>
        <div class="col-md-4">
            <div class="feature-card p-4 h-100 text-center">
                <i class="bi bi-shield-check feature-icon text-danger"></i>
                <h5 class="text-white">Autoryzowany Partner</h5>
                <p class="text-muted small">Jesteśmy oficjalnym dystrybutorem marek Hikvision i Dahua. Gwarancja pochodzenia sprzętu.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card p-4 h-100 text-center">
                <i class="bi bi-truck feature-icon text-warning"></i>
                <h5 class="text-white">Wsparcie Techniczne</h5>
                <p class="text-muted small">  Nie wiesz co wybrać? Nasi eksperci pomogą Ci w doborze i konfiguracji sprzętu.</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="feature-card p-4 h-100 text-center">
                <i class="bi bi-tools feature-icon text-info"></i>
                <h5 class="text-white">Wsparcie Montażowe</h5>
                <p class="text-muted small">Darmowe schematy podłączenia i pomoc telefoniczna przy pierwszym uruchomieniu.</p>
            </div>
        </div>
    </div>

    <div class="mb-5">
        <div class="d-flex justify-content-between align-items-end mb-4">
            <h3 class="section-title text-white mb-0">Zaufali nam</h3>
            <a asp-controller="Info" asp-action="Opinions" class="text-danger text-decoration-none small fw-bold">
                Wszystkie opinie <i class="bi bi-arrow-right"></i>
            </a>
        </div>

        <div class="row g-4">
            @if (Model.LatestOpinions != null && Model.LatestOpinions.Any())
            {
                @foreach (var op in Model.LatestOpinions)
                {
                    <div class="col-md-4">
                        <div class="quote-card p-4 h-100 d-flex flex-column">
                            <div class="text-warning mb-3 small">
                                @for (int i = 0; i < op.Stars; i++)
                                {
                                    <i class="bi bi-star-fill"></i>
                                }
                                @for (int i = op.Stars; i < 5; i++)
                                {
                                    <i class="bi bi-star"></i>
                                }
                            </div>
                            <blockquote class="text-light fst-italic flex-grow-1 opacity-75">
                                "@(op.Message.Length > 100 ? op.Message.Substring(0, 100) + "..." : op.Message)"
                            </blockquote>
                            <div class="d-flex align-items-center mt-3 pt-3 border-top border-secondary border-opacity-25">
                                <div class="bg-secondary bg-opacity-25 rounded-circle me-3 d-flex align-items-center justify-content-center fw-bold text-white"
                                     style="width:40px; height:40px; min-width:40px;">
                                    @op.Initials
                                </div>
                                <div>
                                    <div class="fw-bold text-white small">@op.UserName</div>
                                    <div class="text-muted" style="font-size: 0.75rem;">Klient zweryfikowany</div>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12">
                    <div class="quote-card p-4 text-center text-muted">
                        Bądź pierwszą osobą, która podzieli się opinią!
                    </div>
                </div>
            }
        </div>
    </div>


    
            </div>
        </div>
    </div>

</div>