@{
    ViewData["Title"] = "Instrukcje";
}

<style>
  /* NEW minimal look for the Guides page */
  body { background:#0e0f11; color:#e8eaed; }
  .headline { letter-spacing:.3px }
  .subtle { color:#a6a9ad }
  .pill { border:1px solid #2b2f36; background:#13151a; color:#e8eaed; padding:.45rem .9rem; border-radius:999px; cursor:pointer; }
  .pill.active { background:#ff3b30; border-color:#ff3b30; color:#fff; }
  .pill:hover { border-color:#3a3f48 }
  .guide-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:14px; }
  .guide-item { border:1px solid #2b2f36; background:linear-gradient(180deg,#15171c 0%, #121419 100%); border-radius:14px; padding:16px; transition:transform .15s ease, border-color .15s ease, box-shadow .15s ease; }
  .guide-item:hover { transform:translateY(-2px); border-color:#3a3f48; box-shadow:0 6px 24px rgba(0,0,0,.25); }
  .guide-item h6 { margin:0 0 .35rem 0; font-weight:600; }
  .guide-item .meta { font-size:.9rem; color:#a6a9ad }
  .guide-item .actions a { text-decoration:none; font-size:.92rem; margin-right:10px; }
  .tag { font-size:.75rem; padding:.15rem .5rem; border:1px solid #2b2f36; border-radius:999px; color:#cfd2d5 }
  .stepper { display:flex; gap:14px; overflow:auto; padding-bottom:6px }
  .step { flex:1 1 200px; border:1px dashed #32363e; border-radius:12px; padding:12px; background:#121419 }
  .step b { display:block; margin-bottom:6px }
  .callout { border:1px solid #2b2f36; background:#121419; border-radius:14px; padding:16px }
  .search { background:#121419; border:1px solid #2b2f36; color:#e8eaed }
  a.link { color:#ff5c52 }
</style>

<div class="container py-4">
  <div class="d-flex align-items-end justify-content-between flex-wrap gap-3 mb-3">
    <div>
      <h1 class="headline mb-1">Instrukcje</h1>
      <div class="subtle">Zebrane w jednym miejscu krÃ³tkie, praktyczne poradniki.</div>
    </div>
    <div class="ms-auto" style="min-width:280px;">
      <div class="input-group">
        <span class="input-group-text search">ğŸ”</span>
        <input id="q" class="form-control search" placeholder="Szukajâ€¦">
      </div>
    </div>
  </div>

  <!-- Filter pills -->
  <div class="d-flex flex-wrap gap-2 mb-3" id="pills">
    <button class="pill active" data-cat="all">Wszystko</button>
    <button class="pill" data-cat="start">Start</button>
    <button class="pill" data-cat="sieÄ‡">SieÄ‡</button>
    <button class="pill" data-cat="nagrywanie">Nagrywanie</button>
    <button class="pill" data-cat="sprzÄ™t">SprzÄ™t</button>
    <button class="pill" data-cat="bezpieczeÅ„stwo">BezpieczeÅ„stwo</button>
  </div>

  <!-- Quick stepper -->
  <div class="stepper mb-3">
    <div class="step"><b>1. Uruchom</b> PodÅ‚Ä…cz dysk, PoE i monitor. PrzejdÅº kreator, ustaw hasÅ‚o i eâ€‘mail odzyskiwania.</div>
    <div class="step"><b>2. SieÄ‡</b> DHCP albo IP statyczne. SprawdÅº Å‚Ä…cznoÅ›Ä‡ i ustaw NTP/strefÄ™.</div>
    <div class="step"><b>3. Dodaj kamery</b> ONVIF/autoâ€‘wyszukiwanie. ZmieÅ„ hasÅ‚a domyÅ›lne.</div>
    <div class="step"><b>4. Nagrywanie</b> Harmonogram + zdarzenia. WÅ‚Ä…cz H.265 i ustal retencjÄ™.</div>
    <div class="step"><b>5. DostÄ™p zdalny</b> P2P lub DDNS. Aktywuj 2FA.</div>
  </div>

  <!-- Grid of guides -->
  <div class="guide-grid" id="grid">
    <!-- Start -->
    <div class="guide-item" data-cat="start">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>Konfiguracja â€szybki startâ€</h6><span class="tag">Start</span>
      </div>
      <div class="meta mb-2">Pierwsze uruchomienie rejestratora krok po kroku.</div>
      <div class="actions">
        <a href="#" class="link">PDF</a>
        <a href="#" class="link">Wideo</a>
      </div>
    </div>

    <!-- SieÄ‡ -->
    <div class="guide-item" data-cat="sieÄ‡">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>PoE i segmentacja VLAN</h6><span class="tag">SieÄ‡</span>
      </div>
      <div class="meta mb-2">Jak podÅ‚Ä…czyÄ‡ kamery PoE i odseparowaÄ‡ ruch CCTV.</div>
      <div class="actions">
        <a href="#" class="link">PDF</a>
        <a href="https://www.youtube.com/embed/dQw4w9WgXcQ" class="link" target="_blank">Wideo</a>
      </div>
    </div>

    <div class="guide-item" data-cat="sieÄ‡">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>Zdalny dostÄ™p P2P / DDNS</h6><span class="tag">SieÄ‡</span>
      </div>
      <div class="meta mb-2">PodglÄ…d w aplikacji i przez przeglÄ…darkÄ™ â€“ bezpieczna konfiguracja.</div>
      <div class="actions">
        <a href="#" class="link">PDF</a>
      </div>
    </div>

    <!-- Nagrywanie -->
    <div class="guide-item" data-cat="nagrywanie">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>Harmonogram i zdarzenia</h6><span class="tag">Nagrywanie</span>
      </div>
      <div class="meta mb-2">Konfiguracja nagrywania ciÄ…gÅ‚ego + detekcji / VCA.</div>
      <div class="actions">
        <a href="#" class="link">PDF</a>
      </div>
    </div>

    <div class="guide-item" data-cat="nagrywanie">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>Kalkulacja pojemnoÅ›ci dyskÃ³w</h6><span class="tag">Nagrywanie</span>
      </div>
      <div class="meta mb-2">Jak policzyÄ‡ retencjÄ™ â€“ FPS, kodek, bitrate. </div>
      <div class="actions">
        <a asp-controller="Configurator" asp-action="Index" class="link">OtwÃ³rz Konfigurator</a>
      </div>
    </div>

    <!-- SprzÄ™t -->
    <div class="guide-item" data-cat="sprzÄ™t">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>DobÃ³r obiektywu</h6><span class="tag">SprzÄ™t</span>
      </div>
      <div class="meta mb-2">Ogniskowa vs. kÄ…t widzenia â€“ kiedy 2.8â€¯mm, a kiedy 12â€¯mm.</div>
      <div class="actions">
        <a href="#" class="link">Tabela ogniskowych (PDF)</a>
      </div>
    </div>

    <div class="guide-item" data-cat="sprzÄ™t">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>Okablowanie i zasilanie</h6><span class="tag">SprzÄ™t</span>
      </div>
      <div class="meta mb-2">Kable CU kat.5e/6, limity 90â€¯m, budÅ¼et PoE +20%.</div>
      <div class="actions">
        <a href="#" class="link">Poradnik (PDF)</a>
      </div>
    </div>

    <!-- BezpieczeÅ„stwo -->
    <div class="guide-item" data-cat="bezpieczeÅ„stwo">
      <div class="d-flex align-items-center justify-content-between mb-1">
        <h6>BezpieczeÅ„stwo systemu</h6><span class="tag">BezpieczeÅ„stwo</span>
      </div>
      <div class="meta mb-2">Silne hasÅ‚a, 2FA, aktualizacje, segmentacja sieci.</div>
      <div class="actions">
        <a href="#" class="link">Checklist (PDF)</a>
      </div>
    </div>
  </div>

  <div class="callout mt-3">
    Nie znalazÅ‚eÅ› instrukcji? SprawdÅº <a asp-controller="Info" asp-action="Faq" class="link">FAQ</a> lub przejdÅº do <a asp-controller="Info" asp-action="Support" class="link"><b>Wsparcia</b></a>.
  </div>
</div>

@section Scripts{
<script>
(function(){
  const q = document.getElementById('q');
  const pills = document.querySelectorAll('#pills .pill');
  const items = document.querySelectorAll('.guide-item');

  function applyFilter(){
    const text = (q.value||'').trim().toLowerCase();
    const active = document.querySelector('#pills .pill.active')?.dataset.cat || 'all';
    items.forEach(it=>{
      const hay = it.innerText.toLowerCase();
      const cat = it.getAttribute('data-cat');
      const matchText = hay.includes(text);
      const matchCat = (active==='all') || (cat===active);
      it.style.display = (matchText && matchCat) ? '' : 'none';
    });
  }

  q.addEventListener('input', applyFilter);
  pills.forEach(p=>{
    p.addEventListener('click', ()=>{
      pills.forEach(x=>x.classList.remove('active'));
      p.classList.add('active');
      applyFilter();
    });
  });
})();
</script>
}
